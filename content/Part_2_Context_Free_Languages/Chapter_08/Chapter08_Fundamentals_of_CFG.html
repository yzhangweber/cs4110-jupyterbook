
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta property="article:modified_time" content="2025-08-21T16:38:06-06:00" />
    <title>9. Fundamentals of Context-Free Grammar &#8212; Decode Computation:Hands-On Formal Languages and Algorithms</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/Part_2_Context_Free_Languages/Chapter_08/Chapter08_Fundamentals_of_CFG';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="10. Normal Forms and Transformations in Context-Free Grammars" href="../Chapter_09/Chapter09_CFG_Normal_Forms_and_Transformations.html" />
    <link rel="prev" title="8. Nonregular Languages" href="../../Part_1_Regular_Languages/Chapter07_Nonregular_Languages.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="Aug 21, 2025"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/logo.png" class="logo__image only-light" alt="Decode Computation:Hands-On Formal Languages and Algorithms - Home"/>
    <script>document.write(`<img src="../../../_static/logo.png" class="logo__image only-dark" alt="Decode Computation:Hands-On Formal Languages and Algorithms - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../intro.html">
                    Decode Computation︰ Hands-On Formal Languages and Algorithms
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Preliminary Material</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../Part_0_Preliminary_Material/Chapter00_Set_Theory.html">1. Set Theory</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Regular Languages</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../Part_1_Regular_Languages/Chapter01_Languages.html">2. Languages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Part_1_Regular_Languages/Chapter02_Regular_Expressions.html">3. Regular Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Part_1_Regular_Languages/Chapter03_Finite_Automata.html">4. Finite Automata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Part_1_Regular_Languages/Chapter04_Nondeterministic_Finite_Automata.html">5. Nondeterministic Finite Automata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Part_1_Regular_Languages/Chapter05_Kleene%27s_Theorem_Part1.html">6. Kleene’s Theorem (Part 1)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Part_1_Regular_Languages/Chapter06_Kleene%27s_Theorem_Part2.html">7. Kleene’s Theorem (Part 2)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Part_1_Regular_Languages/Chapter07_Nonregular_Languages.html">8. Nonregular Languages</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Context Free Languages</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">9. Fundamentals of Context-Free Grammar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Chapter_09/Chapter09_CFG_Normal_Forms_and_Transformations.html">10. Normal Forms and Transformations in Context-Free Grammars</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Chapter_10/Chapter10_PDA.html">11. Pushdown Automata (PDA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Chapter_11/Chapter11_Properties_of_Context_free%20Languages.html">12. Properties of Context-free Languages (CFL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Chapter_12/Chapter12_Decidability_in_CFG.html">13. Decidability in Context-Free Grammars (CFGs)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Turing Machines</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../Part_3_Turing_Machines/Chapter_13/Chapter13_Introduction_to_Turing_Machines.html">14. Introduction to Turing Machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Part_3_Turing_Machines/Chapter_14/Chapter14_Turing_Machine_Languages.html">15. Turing Machine Languages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Part_3_Turing_Machines/Chapter_15/Chapter15_Turing_Machine_Encoding.html">16. Turing Machine Encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Part_3_Turing_Machines/Chapter_16/Chapter16_Universal_Turing_Machine.html">17. The Universal Turing Machine</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Advanced Topics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../Part_4_Advanced_Topics/Chapter17_P_and_NP_Problems.html">18. P and NP Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Part_4_Advanced_Topics/Chapter18_NP_Completeness.html">19. NP-Completeness</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../Appendix/Jupyter%20Notebook%20Setup%20Guide.html">20. Appendix: Getting Started with Jupyter Notebooks (JupyterLab and Google Colab)</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fcontent/Part_2_Context_Free_Languages/Chapter_08/Chapter08_Fundamentals_of_CFG.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/content/Part_2_Context_Free_Languages/Chapter_08/Chapter08_Fundamentals_of_CFG.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Fundamentals of Context-Free Grammar</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#formal-definition-of-context-free-grammar">1. Formal Definition of Context-Free Grammar</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-properties">1.1 Key Properties:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#code-example">1.2 Code Example:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#an-example-of-context-free-grammars">2. An Example of Context-Free Grammars</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-grammar-for-the-language-a-b">2.1 Example: Grammar for the language a*b*</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#derivations">3. Derivations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#leftmost-derivation">3.1 Leftmost Derivation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rightmost-derivation">3.2 Rightmost Derivation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-examples-of-context-free-grammars">4. More Examples of Context-Free Grammars</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-grammar-for-balanced-parentheses">4.1 Example: Grammar for balanced parentheses</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-grammar-for-arithmetic-expressions">4.2 Example: Grammar for arithmetic expressions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-grammar-for-simple-english-sentences">4.3 Example: Grammar for simple English sentences</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-grammar-for-palindromes">4.4 Example: Grammar for palindromes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-grammar-for-anbn-n-0">4.5 Example: Grammar for {aⁿbⁿ | n ≥ 0}</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#parse-trees">5. Parse Trees</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#properties-of-parse-trees">5.1 Properties of Parse Trees:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-parse-tree">5.2 Example Parse Tree</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-python-implementation">5.3 Example Python Implementation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#practice-exercises">6. Practice Exercises</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-1-definition-of-cfg">6.1 Exercise 1: Definition of CFG</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-2-derivations">6.2 Exercise 2: Derivations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-3">6.3 Exercise 3:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#further-reading">7. Further Reading</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="fundamentals-of-context-free-grammar">
<h1><span class="section-number">9. </span>Fundamentals of Context-Free Grammar<a class="headerlink" href="#fundamentals-of-context-free-grammar" title="Link to this heading">#</a></h1>
<p>Context-Free Grammars (CFGs) are important in computer science and linguistics for defining language structure. Introduced by Noam Chomsky in the 1950s, they play a key role in programming languages, helping compilers check syntax and convert code into machine instructions. CFGs are also used in natural language processing (NLP) for grammar checking and language translation. Beyond that, they assist in bioinformatics by identifying patterns in DNA sequences and help structure documents in markup languages like XML and HTML. Their “context-free” nature means that rules apply independently of surrounding elements, making them both flexible and efficient for various applications.</p>
<p>This section covers the fundamental concepts of Context-Free Grammar (CFG), including formal definitions, examples, derivations, and parse trees.</p>
<section id="formal-definition-of-context-free-grammar">
<h2>1. Formal Definition of Context-Free Grammar<a class="headerlink" href="#formal-definition-of-context-free-grammar" title="Link to this heading">#</a></h2>
<p>A Context-Free Grammar G is formally defined as a 3-tuple <span class="math notranslate nohighlight">\(G = (V, \Sigma, R)\)</span> where:</p>
<ul class="simple">
<li><p>V: A finite set of variables called non-terminals, including a special start symbol S (<span class="math notranslate nohighlight">\(S \in N\)</span>)</p></li>
<li><p>An alphabet <span class="math notranslate nohighlight">\(\Sigma\)</span>: A finite set of symbols called terminals</p></li>
<li><p>R: A finite set of production rules</p></li>
</ul>
<section id="key-properties">
<h3>1.1 Key Properties:<a class="headerlink" href="#key-properties" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Non-terminals are typically denoted by uppercase letters (A, B, C, …). These are placeholder symbols that will be replaced using productions. You may think of them as “categories” or “types” of phrases in a language. For example, in a programming language, these might represent concepts like “expression”, “statement”, or “function”.</p></li>
<li><p>Terminals (<span class="math notranslate nohighlight">\(\Sigma\)</span>) are typically denoted by lowercase letters (a, b, c, …). These are the actual symbols that appear in the final strings. In a programming language, these would be keywords, operators, and literals. For example: numbers, parentheses, operators like ‘+’ and ‘/’, keywords like ‘if’ and ‘while’, etc.</p></li>
<li><p>Production rules are of the form A <span class="math notranslate nohighlight">\(\rightarrow\)</span> <span class="math notranslate nohighlight">\(\alpha\)</span> where</p>
<ul>
<li><p>A is a single non-terminal</p></li>
<li><p><span class="math notranslate nohighlight">\(\alpha\)</span> is a string of non-terminals and terminals (including <span class="math notranslate nohighlight">\(\wedge\)</span> for empty string).</p></li>
<li><p>These productions tell us how to replace non-terminals with combinations of non-terminals and terminals.</p></li>
<li><p>They define the valid ways to generate strings in the language.</p></li>
<li><p>Multiple production rules for the same variable are often written as A → <span class="math notranslate nohighlight">\(\alpha_1\)</span> | <span class="math notranslate nohighlight">\(\alpha_2\)</span> | <span class="math notranslate nohighlight">\(\alpha_3\)</span>. The vertical bar | means “or”: any of these productions can be used</p></li>
</ul>
</li>
<li><p>The start symbol S must appear on the left side of at least one production rule. This is the non-terminal where we begin applying productions. Every valid string in the language must be derivable from this start symbol. You may think of it as the “root” or “entry point” of the grammar.</p></li>
<li><p>The “context-free” property means that a rule can be applied based only on the variable being replaced, without considering what surrounds it (its context). This makes CFGs powerful enough to define most programming language structures while still being easy to parse efficiently.</p></li>
</ul>
</section>
<section id="code-example">
<h3>1.2 Code Example:<a class="headerlink" href="#code-example" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example of implementing a simple CFG validator</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CFG</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">variables</span><span class="p">,</span> <span class="n">terminals</span><span class="p">,</span> <span class="n">productions</span><span class="p">,</span> <span class="n">start_symbol</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">V</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">variables</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Σ</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">terminals</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">R</span> <span class="o">=</span> <span class="n">productions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">S</span> <span class="o">=</span> <span class="n">start_symbol</span>
        
    <span class="k">def</span><span class="w"> </span><span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Check if start symbol is in variables</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">S</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">V</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Start symbol must be in variables&quot;</span>
            
        <span class="c1"># Check if all symbols in productions are valid</span>
        <span class="k">for</span> <span class="n">left</span><span class="p">,</span> <span class="n">rights</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">left</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">V</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Left-hand side </span><span class="si">{</span><span class="n">left</span><span class="si">}</span><span class="s2"> must be a variable&quot;</span>
            
            <span class="k">for</span> <span class="n">right</span> <span class="ow">in</span> <span class="n">rights</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">symbol</span> <span class="ow">in</span> <span class="n">right</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">symbol</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">V</span> <span class="ow">and</span> <span class="n">symbol</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">Σ</span> <span class="ow">and</span> <span class="n">symbol</span> <span class="o">!=</span> <span class="s1">&#39;∧&#39;</span><span class="p">:</span>
                        <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Invalid symbol </span><span class="si">{</span><span class="n">symbol</span><span class="si">}</span><span class="s2"> in production&quot;</span>
                        
        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;Grammar is valid&quot;</span>

<span class="c1"># Example usage</span>
<span class="n">balanced_parens</span> <span class="o">=</span> <span class="n">CFG</span><span class="p">(</span>
    <span class="n">variables</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;S&#39;</span><span class="p">},</span>
    <span class="n">terminals</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;(&#39;</span><span class="p">,</span> <span class="s1">&#39;)&#39;</span><span class="p">},</span>
    <span class="n">productions</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;S&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;(S)&#39;</span><span class="p">,</span> <span class="s1">&#39;SS&#39;</span><span class="p">,</span> <span class="s1">&#39;∧&#39;</span><span class="p">]},</span>
    <span class="n">start_symbol</span><span class="o">=</span><span class="s1">&#39;S&#39;</span>
<span class="p">)</span>

<span class="n">is_valid</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="n">balanced_parens</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Grammar validation: </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Grammar validation: Grammar is valid
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="an-example-of-context-free-grammars">
<h2>2. An Example of Context-Free Grammars<a class="headerlink" href="#an-example-of-context-free-grammars" title="Link to this heading">#</a></h2>
<section id="example-grammar-for-the-language-a-b">
<h3>2.1 Example: Grammar for the language a*b*<a class="headerlink" href="#example-grammar-for-the-language-a-b" title="Link to this heading">#</a></h3>
<p>A Context-Free Grammar G1 is defined as follows:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(V\)</span> (non-terminals): <span class="math notranslate nohighlight">\({S, A, B}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\Sigma\)</span> (terminals): <span class="math notranslate nohighlight">\({a, b}\)</span></p></li>
<li><p>R (production rules): <span class="math notranslate nohighlight">\({S → AB; A → aA| \wedge , B → bB | \wedge}\)</span></p></li>
</ul>
<p>To understand the production rules:</p>
<ul class="simple">
<li><p>The start symbol S expands into A followed by B. This enforces that all ‘a’ symbols, if any, must come before any ‘b’ symbols.</p></li>
<li><p>A can either produce an ‘a’ followed by another ‘A’ (recursion) or terminate with <span class="math notranslate nohighlight">\(\wedge\)</span>(empty string). This means A generates zero or more ‘a’ characters (a*).</p></li>
<li><p>B can either produce a ‘b’ followed by another ‘B’ (recursion) or terminate with <span class="math notranslate nohighlight">\(\wedge\)</span>(empty string). This means B generates zero or more ‘b’ characters (b*).</p></li>
</ul>
<p>The language defined by this grammar is: <span class="math notranslate nohighlight">\(L(G1)=\{a^nb^m∣n,m≥0\}\)</span>. This represents any number of ‘a’s followed by any number of ‘b’s, including the empty string. This grammar generates strings like: <span class="math notranslate nohighlight">\(\wedge\)</span>, a, b, aa, bb, ab, aab, abbb, aaabb, …</p>
</section>
</section>
<section id="derivations">
<h2>3. Derivations<a class="headerlink" href="#derivations" title="Link to this heading">#</a></h2>
<p>A derivation is a sequence of strings obtained by applying production rules, starting from the start symbol. There are two main types of derivations:</p>
<section id="leftmost-derivation">
<h3>3.1 Leftmost Derivation<a class="headerlink" href="#leftmost-derivation" title="Link to this heading">#</a></h3>
<p>In a leftmost derivation, at each step we replace the leftmost non-terminal with one of its productions.<br />
Example using G1 to derive ‘aabb’:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>S ⇒ AB    [using S → AB]  
  ⇒ aAB   [using A → aA] 
  ⇒ aaAB  [using A → aA]
  ⇒ aaB   [using A → ∧]  
  ⇒ aabB  [using B → bB]  
  ⇒ aabbB [using B → bB]
  ⇒ aabb  [using B → ∧]  
</pre></div>
</div>
</section>
<section id="rightmost-derivation">
<h3>3.2 Rightmost Derivation<a class="headerlink" href="#rightmost-derivation" title="Link to this heading">#</a></h3>
<p>In a rightmost derivation, at each step we replace the rightmost non-terminal with one of its productions.<br />
Example using G1 (a<em>b</em>) to derive ‘aabb’:  (different from leftmost but same result):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>S ⇒ AB    [using S → AB]  
  ⇒ AbB   [using B → bB] 
  ⇒ AbbB  [using B → bB]
  ⇒ Abb   [using B → ∧]  
  ⇒ aAbb  [using A → aA]  
  ⇒ aaAbb [using A → aA]
  ⇒ aabb  [using A → ∧]  
</pre></div>
</div>
<p>Different types of derivation help maintain consistency and structure when parsing and analyzing languages. Leftmost derivation is commonly used for top-down parsing such as in Recursive Descent Parser. Rightmost Derivation is commonly used in bottom-up parsing such as in LR parsers. Common programming languages, such as C, Java, Python, are parsed with bottom-up approach.</p>
</section>
</section>
<section id="more-examples-of-context-free-grammars">
<h2>4. More Examples of Context-Free Grammars<a class="headerlink" href="#more-examples-of-context-free-grammars" title="Link to this heading">#</a></h2>
<section id="example-grammar-for-balanced-parentheses">
<h3>4.1 Example: Grammar for balanced parentheses<a class="headerlink" href="#example-grammar-for-balanced-parentheses" title="Link to this heading">#</a></h3>
<p>A Context-Free Grammar G2 is defined as follows:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(V\)</span>: {<span class="math notranslate nohighlight">\(S\)</span>}</p></li>
<li><p><span class="math notranslate nohighlight">\(\Sigma\)</span>: {(, )}</p></li>
<li><p><span class="math notranslate nohighlight">\(R: {S → (S) | SS | \wedge}\)</span></p></li>
</ul>
<p>Components breakdown:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Components</p></th>
<th class="head"><p>Explanation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>V = {S}</p></td>
<td><p>Single non-terminal S</p></td>
</tr>
<tr class="row-odd"><td><p>Σ = {(, )}</p></td>
<td><p>Two terminals: open and close parentheses</p></td>
</tr>
<tr class="row-even"><td><p>R = {S → (S) <code class="docutils literal notranslate"><span class="pre">|</span></code> SS <code class="docutils literal notranslate"><span class="pre">|</span></code> ∧}</p></td>
<td><p>Three production rules</p></td>
</tr>
</tbody>
</table>
</div>
<p>This grammar generates strings like:  <span class="math notranslate nohighlight">\(\wedge\)</span>, (), (()), ()(), ((()))</p>
</section>
<section id="example-grammar-for-arithmetic-expressions">
<h3>4.2 Example: Grammar for arithmetic expressions<a class="headerlink" href="#example-grammar-for-arithmetic-expressions" title="Link to this heading">#</a></h3>
<p>A Context-Free Grammar G3 is defined as follows:</p>
<p>V: {<span class="math notranslate nohighlight">\(S, E, T, F, N, D\)</span>}<br />
<span class="math notranslate nohighlight">\(\Sigma\)</span>: {<span class="math notranslate nohighlight">\(+, -, *, /, (, ), 0, 1, 2, 3, 4, 5, 6, 7, 8, 9\)</span>}<br />
R =<br />
{</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(S → E\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(E → E + T | E - T | T \)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(T → T * F | T / F | F \)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(F → (E) | N | -F\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(N → ND | D\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(D → 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9\)</span>
}</p></li>
</ul>
<p>This grammer defines arithmetic expressions that handles numbers, basic operators (+, -, *, /), and parentheses.</p>
<p>Components breakdown:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Components</p></th>
<th class="head"><p>Explanation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>V = {E, T, F, N, D}</p></td>
<td><p>Variables for Expression, Term, Factor, Number, Digit</p></td>
</tr>
<tr class="row-odd"><td><p>Σ = {0,1,2,3,4,5,6,7,8,9, +, -, *, /, (, )}</p></td>
<td><p>Terminals: digits, operators, parentheses</p></td>
</tr>
<tr class="row-even"><td><p>R: Production Rules</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">S</span> <span class="pre">→</span> <span class="pre">E</span></code></p></td>
<td><p>Start the production</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">E</span> <span class="pre">→</span> <span class="pre">E</span> <span class="pre">+</span> <span class="pre">T</span> <span class="pre">|</span> <span class="pre">E</span> <span class="pre">-</span> <span class="pre">T</span> <span class="pre">|</span> <span class="pre">T</span></code></p></td>
<td><p>Addition/Subtraction/Term</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">→</span> <span class="pre">T</span> <span class="pre">*</span> <span class="pre">F</span> <span class="pre">|</span> <span class="pre">T</span> <span class="pre">/</span> <span class="pre">F</span> <span class="pre">|</span> <span class="pre">F</span></code></p></td>
<td><p>Multiplication/Division/Factor</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">F</span> <span class="pre">→</span> <span class="pre">(E)</span> <span class="pre">|</span> <span class="pre">N</span> <span class="pre">|</span> <span class="pre">-F</span></code></p></td>
<td><p>Number, Parentheses, Negation</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">N</span> <span class="pre">→</span> <span class="pre">ND</span> <span class="pre">|</span> <span class="pre">D</span></code></p></td>
<td><p>Multi-digit Numbers</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">D</span> <span class="pre">→</span> <span class="pre">0</span> <span class="pre">|</span> <span class="pre">1</span> <span class="pre">|</span> <span class="pre">2</span> <span class="pre">|</span> <span class="pre">3</span> <span class="pre">|</span> <span class="pre">4</span> <span class="pre">|</span> <span class="pre">5</span> <span class="pre">|</span> <span class="pre">6</span> <span class="pre">|</span> <span class="pre">7</span> <span class="pre">|</span> <span class="pre">8</span> <span class="pre">|</span> <span class="pre">9</span></code></p></td>
<td><p>Single Digits</p></td>
</tr>
</tbody>
</table>
</div>
<p>This grammar generates expressions like:</p>
<ul class="simple">
<li><p>2</p></li>
<li><p>3 + 7</p></li>
<li><p>4 * 5</p></li>
<li><p>(8 + 2) / (3 - 1)</p></li>
<li><p>(-2 + 5) * 3</p></li>
<li><p>1000 - 245</p></li>
</ul>
<p>Sample derivation for ‘5 + 7 * 2”’:<br />
S ⇒ E + T ⇒ T + T ⇒ F + T ⇒ N + T ⇒ D + T ⇒ 5 + T * F ⇒ 5 + F * F ⇒ 5 + N * N ⇒ 5 + 7 * N ⇒ 5 + 7 * 2</p>
</section>
<section id="example-grammar-for-simple-english-sentences">
<h3>4.3 Example: Grammar for simple English sentences<a class="headerlink" href="#example-grammar-for-simple-english-sentences" title="Link to this heading">#</a></h3>
<p>A Context-Free Grammar G4 is defined as follows:</p>
<p>V: {S, NP, VP, Det, N, V}<br />
Σ: {“a”, “cat”, “dog”, “boy”, “girl”, “candy”, “sees”, “eats”, “runs”}<br />
R:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(S → NP VP\)</span>                  # A sentence consists of a noun phrase and a verb phrase</p></li>
<li><p><span class="math notranslate nohighlight">\(NP → Det N\)</span>                 # A noun phrase consists of a determiner and a noun</p></li>
<li><p><span class="math notranslate nohighlight">\(VP → V NP\)</span>                  # A verb phrase consists of a verb followed by a noun phrase</p></li>
<li><p><span class="math notranslate nohighlight">\(VP → V\)</span>                      # A verb phrase can also be just a verb</p></li>
<li><p><span class="math notranslate nohighlight">\(Det → a\)</span>     # Determiners</p></li>
<li><p><span class="math notranslate nohighlight">\(N → cat | dog | apple\)</span>  # Nouns</p></li>
<li><p><span class="math notranslate nohighlight">\(V → sees | eats | runs\)</span>  # Verbs</p></li>
</ul>
<p>Components breakdown:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Components</p></th>
<th class="head"><p>Explanation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>V = {S, NP, VP, Det, N, V}</p></td>
<td><p>Non-terminals for Sentence, Noun Phrase, Verb Phrase, Determiner, Noun, and Verb</p></td>
</tr>
<tr class="row-odd"><td><p>Σ = {“a”, “cat”, “dog”, “boy”, “girl”, “candy”, “sees”, “eats”, “runs”}</p></td>
<td><p>Terminals: Determiners, Nouns, Proper Nouns, Verbs</p></td>
</tr>
<tr class="row-even"><td><p>R: Production Rules</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>S → NP VP</p></td>
<td><p>A sentence consists of a noun phrase followed by a verb phrase</p></td>
</tr>
<tr class="row-even"><td><p>NP → Det N</p></td>
<td><p>A noun phrase consists of a determiner followed by a noun</p></td>
</tr>
<tr class="row-odd"><td><p>VP → V NP</p></td>
<td><p>A verb phrase consists of a verb followed by a noun phrase</p></td>
</tr>
<tr class="row-even"><td><p>VP → V</p></td>
<td><p>A verb phrase can be just a verb</p></td>
</tr>
<tr class="row-odd"><td><p>Det → “a”</p></td>
<td><p>Determiners</p></td>
</tr>
<tr class="row-even"><td><p>N → “cat” | “dog” | “boy” | “girl” | “candy”</p></td>
<td><p>Nouns</p></td>
</tr>
<tr class="row-odd"><td><p>V → “sees” | “eats” | “runs”</p></td>
<td><p>Verbs</p></td>
</tr>
</tbody>
</table>
</div>
<p>This grammar generates sentences like:</p>
<ul class="simple">
<li><p>a cat runs</p></li>
<li><p>a boy eats a candy</p></li>
</ul>
<p>Example Derivations:</p>
<ul class="simple">
<li><p>“a cat sees a dog”<br />
S ⇒ NP VP ⇒ Det N VP ⇒ a N VP ⇒ a cat NP ⇒ a cat V NP ⇒ a cat sees NP ⇒ a cat sees Det N ⇒ a cat sees a N ⇒ a cat sees a dog</p></li>
</ul>
<p>Note that this grammar may derive some nonsensical but valid sentences, such as “a candy sees a girl”. In formal language theory, a Context-Free Grammar defines the structure or format of valid strings in a language, regardless of their meaning. A string is considered valid if it can be derived from the start symbol S by applying the production rules of the grammar. A valid sentence such as <strong>a candy runs</strong> follow the correct structure (syntax), but they don’t make sense (semantics). The grammar only cares about how the sentence is put together, not whether it has a logical meaning.</p>
</section>
<section id="example-grammar-for-palindromes">
<h3>4.4 Example: Grammar for palindromes<a class="headerlink" href="#example-grammar-for-palindromes" title="Link to this heading">#</a></h3>
<p>A palindrome is a string that reads the same forward and backward. Here’s a context-free grammar for generating palindromes:</p>
<p>V: {<span class="math notranslate nohighlight">\(S\)</span>}<br />
Σ: {<span class="math notranslate nohighlight">\(a, b\)</span>}<br />
R: <span class="math notranslate nohighlight">\(S → aSa | bSb | a | b | \wedge\)</span></p>
<p>Components breakdown:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Components</p></th>
<th class="head"><p>Explanation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>V = {S}</p></td>
<td><p>Non-terminal for the start symbol, representing the palindrome.</p></td>
</tr>
<tr class="row-odd"><td><p>Σ = {“a”, “b”}</p></td>
<td><p>Terminals: the characters used to form the palindrome are “a” and “b”.</p></td>
</tr>
<tr class="row-even"><td><p>R Production Rules</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>S → aSa</p></td>
<td><p>Generates palindromes where the first and last characters are “a”, with a smaller palindrome in between.</p></td>
</tr>
<tr class="row-even"><td><p>S → bSb</p></td>
<td><p>Generates palindromes where the first and last characters are “b”, with a smaller palindrome in between.</p></td>
</tr>
<tr class="row-odd"><td><p>S → a</p></td>
<td><p>A base case where the palindrome consists of just the letter “a”.</p></td>
</tr>
<tr class="row-even"><td><p>S → b</p></td>
<td><p>A base case where the palindrome consists of just the letter “b”.</p></td>
</tr>
<tr class="row-odd"><td><p>S → ε</p></td>
<td><p>The empty string, which is also a valid palindrome.</p></td>
</tr>
</tbody>
</table>
</div>
<p>This grammar generates palindromes like:</p>
<ul class="simple">
<li><p>∧ (empty string)</p></li>
<li><p>a</p></li>
<li><p>b</p></li>
<li><p>abba</p></li>
<li><p>baab</p></li>
<li><p>aabbaa</p></li>
</ul>
<p>Example Derivations for ‘abba’:<br />
S ⇒ aSa ⇒ abSba ⇒ abba</p>
</section>
<section id="example-grammar-for-anbn-n-0">
<h3>4.5 Example: Grammar for {aⁿbⁿ | n ≥ 0}<a class="headerlink" href="#example-grammar-for-anbn-n-0" title="Link to this heading">#</a></h3>
<p>The language {aⁿbⁿ | n ≥ 0} consists of strings where there are an equal number of a’s followed by b’s, with <strong>n</strong> representing the number of a’s and b’s.</p>
<p>V: {<span class="math notranslate nohighlight">\(S\)</span>}<br />
Σ: {<span class="math notranslate nohighlight">\(a, b\)</span>}<br />
R: <span class="math notranslate nohighlight">\(S → aSb | \wedge\)</span></p>
<p>Components breakdown:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Components</p></th>
<th class="head"><p>Explanation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>V = {S}</p></td>
<td><p>Non-terminal for the start symbol, representing the balanced structure of aⁿbⁿ.</p></td>
</tr>
<tr class="row-odd"><td><p>Σ = {“a”, “b”}</p></td>
<td><p>Terminals: the characters “a” and “b” used to form the strings in the language.</p></td>
</tr>
<tr class="row-even"><td><p>R: Production Rules</p></td>
<td><p>Rules that define how strings in the language are generated</p></td>
</tr>
<tr class="row-odd"><td><p>S → aSb</p></td>
<td><p>This rule generates a string with an “a” at the start, a “b” at the end, and recursively generates the middle part of the string (another “a” and “b” pair).</p></td>
</tr>
<tr class="row-even"><td><p>S → ∧</p></td>
<td><p>The empty string ∧ is also a valid string in the language, corresponding to n = 0 (no “a” or “b”).</p></td>
</tr>
</tbody>
</table>
</div>
<p>This grammar generates strings like:</p>
<ul class="simple">
<li><p>∧ (empty string)</p></li>
<li><p>ab</p></li>
<li><p>aabb</p></li>
<li><p>aaabbb</p></li>
</ul>
<p>Sample derivation for ‘aabb’:
S ⇒ aSb ⇒ aaSbb ⇒ aabb</p>
</section>
</section>
<section id="parse-trees">
<h2>5. Parse Trees<a class="headerlink" href="#parse-trees" title="Link to this heading">#</a></h2>
<p>A parse tree (or derivation tree) is a graphical representation of a derivation. It shows the hierarchical structure of the derived string.</p>
<section id="properties-of-parse-trees">
<h3>5.1 Properties of Parse Trees:<a class="headerlink" href="#properties-of-parse-trees" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Root is labeled with the start symbol</p></li>
<li><p>Interior nodes are labeled with non-terminals</p></li>
<li><p>Leaf nodes are labeled with terminals or ∧ (empty string)</p></li>
<li><p>If A → X₁X₂…Xₙ is a production used in the derivation, then in the parse tree:</p>
<ul class="simple">
<li><p>A is the label of an interior node</p></li>
<li><p>X₁, X₂, …, Xₙ are labels of its children from left to right</p></li>
</ul>
</li>
</ol>
</section>
<section id="example-parse-tree">
<h3>5.2 Example Parse Tree<a class="headerlink" href="#example-parse-tree" title="Link to this heading">#</a></h3>
<p>For the string “2 + 3” using grammar G3:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>       S  
       |    
       E  
      /|\    
     E + T  
     |   |  
     T   F  
     |   |  
     F   3  
     |  
     2  
</pre></div>
</div>
</section>
<section id="example-python-implementation">
<h3>5.3 Example Python Implementation<a class="headerlink" href="#example-python-implementation" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install required Python packages using pip</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">importlib.util</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">subprocess</span>

<span class="k">def</span><span class="w"> </span><span class="nf">install_if_missing</span><span class="p">(</span><span class="n">package</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">importlib</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">find_spec</span><span class="p">(</span><span class="n">package</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Installing </span><span class="si">{</span><span class="n">package</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">([</span><span class="n">sys</span><span class="o">.</span><span class="n">executable</span><span class="p">,</span> <span class="s2">&quot;-m&quot;</span><span class="p">,</span> <span class="s2">&quot;pip&quot;</span><span class="p">,</span> <span class="s2">&quot;install&quot;</span><span class="p">,</span> <span class="n">package</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">package</span><span class="si">}</span><span class="s2"> has been installed&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">package</span><span class="si">}</span><span class="s2"> is already installed&quot;</span><span class="p">)</span>

<span class="n">required_packages</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;nltk&#39;</span><span class="p">,</span> <span class="s1">&#39;svgling&#39;</span><span class="p">,</span> <span class="s1">&#39;graphviz&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">package</span> <span class="ow">in</span> <span class="n">required_packages</span><span class="p">:</span>
    <span class="n">install_if_missing</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>nltk is already installed
svgling is already installed
graphviz is already installed
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example to visualize parse tree and show derivation process for CFG G3</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">nltk</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">nltk</span><span class="w"> </span><span class="kn">import</span> <span class="n">CFG</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">IPython.display</span><span class="w"> </span><span class="kn">import</span> <span class="n">display</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">nltk.tree</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tree</span>

<span class="c1"># Try importing svgling for tree visualization</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">svgling</span><span class="w"> </span><span class="kn">import</span> <span class="n">draw_tree</span>
    <span class="n">SVG_AVAILABLE</span> <span class="o">=</span> <span class="kc">True</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="n">SVG_AVAILABLE</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Warning: &#39;svgling&#39; module not found. Install it using &#39;pip install svgling&#39; for better tree visualization.&quot;</span><span class="p">)</span>
    
<span class="c1"># Define arithmetic expression grammar</span>
<span class="n">grammar</span> <span class="o">=</span> <span class="n">CFG</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    S -&gt; E</span>
<span class="s2">    E -&gt; E &#39;+&#39; T | E &#39;-&#39; T | T</span>
<span class="s2">    T -&gt; T &#39;*&#39; F | T &#39;/&#39; F | F</span>
<span class="s2">    F -&gt; &#39;(&#39; E &#39;)&#39; | N | &#39;-&#39; F</span>
<span class="s2">    N -&gt; N D | D</span>
<span class="s2">    D -&gt; &#39;0&#39; | &#39;1&#39; | &#39;2&#39; | &#39;3&#39; | &#39;4&#39; | &#39;5&#39; | &#39;6&#39; | &#39;7&#39; | &#39;8&#39; | &#39;9&#39;</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>

<span class="c1"># Create parser</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">ChartParser</span><span class="p">(</span><span class="n">grammar</span><span class="p">)</span>

<span class="c1"># Example expressions</span>
<span class="n">expressions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;(&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;)&#39;</span><span class="p">,</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">]</span>
<span class="p">]</span>

<span class="c1"># Parse and display trees</span>
<span class="k">for</span> <span class="n">expr</span> <span class="ow">in</span> <span class="n">expressions</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Parse Tree for: </span><span class="si">{</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">expr</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">SVG_AVAILABLE</span><span class="p">:</span>
                <span class="n">display</span><span class="p">(</span><span class="n">draw_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error parsing expression: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Function to show derivation steps for an expression</span>
<span class="k">def</span><span class="w"> </span><span class="nf">show_leftmost_derivation</span><span class="p">(</span><span class="n">expression</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Leftmost Derivation for: </span><span class="si">{</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">steps</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;S&quot;</span><span class="p">,</span>
        <span class="s2">&quot;⇒ E&quot;</span><span class="p">,</span>
        <span class="s2">&quot;⇒ E + T&quot;</span><span class="p">,</span>
        <span class="s2">&quot;⇒ T + T&quot;</span><span class="p">,</span>
        <span class="s2">&quot;⇒ F + T&quot;</span><span class="p">,</span>
        <span class="s2">&quot;⇒ 2 + T&quot;</span><span class="p">,</span>
        <span class="s2">&quot;⇒ 2 + T * F&quot;</span><span class="p">,</span>
        <span class="s2">&quot;⇒ 2 + F * F&quot;</span><span class="p">,</span>
        <span class="s2">&quot;⇒ 2 + 3 * F&quot;</span><span class="p">,</span>
        <span class="s2">&quot;⇒ 2 + 3 * 4&quot;</span>
    <span class="p">]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">steps</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Step </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">step</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example usage</span>
<span class="n">show_leftmost_derivation</span><span class="p">([</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Parse Tree for: 2 + 3
</pre></div>
</div>
<img alt="../../../_images/82ec013daf7a10e20c5bd786ee99cb215a82cc441c4ff3fac407c3e755c2ccba.svg" src="../../../_images/82ec013daf7a10e20c5bd786ee99cb215a82cc441c4ff3fac407c3e755c2ccba.svg" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Parse Tree for: 2 + 3 * 4
</pre></div>
</div>
<img alt="../../../_images/1dc1bc3300a4db5a0ecf7379277a631b5fe313ef55755ad824c255c087a94776.svg" src="../../../_images/1dc1bc3300a4db5a0ecf7379277a631b5fe313ef55755ad824c255c087a94776.svg" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Parse Tree for: ( 5 + 2 ) * 3
</pre></div>
</div>
<img alt="../../../_images/388525708ffbb3edfe79552d8f8667038371a43ec3aa5167ed060b263180b7fe.svg" src="../../../_images/388525708ffbb3edfe79552d8f8667038371a43ec3aa5167ed060b263180b7fe.svg" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Parse Tree for: - 2 * 3
</pre></div>
</div>
<img alt="../../../_images/dc36c5f52cf2f7780b739bc5e3455db5b26c57dbe92e126e5be4c86ab216e3d5.svg" src="../../../_images/dc36c5f52cf2f7780b739bc5e3455db5b26c57dbe92e126e5be4c86ab216e3d5.svg" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Leftmost Derivation for: 2 + 3 * 4
Step 0: S
Step 1: ⇒ E
Step 2: ⇒ E + T
Step 3: ⇒ T + T
Step 4: ⇒ F + T
Step 5: ⇒ 2 + T
Step 6: ⇒ 2 + T * F
Step 7: ⇒ 2 + F * F
Step 8: ⇒ 2 + 3 * F
Step 9: ⇒ 2 + 3 * 4
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example to visualize parse tree and show derivation process for CFG G4</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">nltk</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">nltk</span><span class="w"> </span><span class="kn">import</span> <span class="n">CFG</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">IPython.display</span><span class="w"> </span><span class="kn">import</span> <span class="n">display</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">nltk.tree</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tree</span>

<span class="c1"># Try importing svgling for tree visualization</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">svgling</span><span class="w"> </span><span class="kn">import</span> <span class="n">draw_tree</span>
    <span class="n">SVG_AVAILABLE</span> <span class="o">=</span> <span class="kc">True</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="n">SVG_AVAILABLE</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Warning: &#39;svgling&#39; module not found. Install it using &#39;pip install svgling&#39; for better tree visualization.&quot;</span><span class="p">)</span>

<span class="c1"># Define a simple Context-Free Grammar (CFG)</span>
<span class="n">grammar</span> <span class="o">=</span> <span class="n">CFG</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    S -&gt; NP VP</span>
<span class="s2">    NP -&gt;  Det N</span>
<span class="s2">    VP -&gt; V NP</span>
<span class="s2">    Det -&gt; &#39;a&#39; | &#39;the&#39;</span>
<span class="s2">    N -&gt; &#39;cat&#39; | &#39;dog&#39;</span>
<span class="s2">    V -&gt; &#39;chases&#39; | &#39;sees&#39;</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>

<span class="c1"># Display the grammar</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Defined Context-Free Grammar:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">grammar</span><span class="p">)</span>

<span class="c1"># Example of Leftmost and Rightmost Derivations</span>
<span class="k">def</span><span class="w"> </span><span class="nf">leftmost_derivation</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Leftmost Derivation for &#39;the cat sees a dog&#39;:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;S&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ NP VP&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ Det N VP&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ the N VP&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ the cat VP&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ the cat V NP&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ the cat sees NP&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ the cat sees Det N&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ &#39;the&#39; cat sees &#39;a&#39; N&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ &#39;the&#39; cat sees &#39;a&#39; dog&quot;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">rightmost_derivation</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Rightmost Derivation for &#39;the cat sees a dog&#39;:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;S&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ NP VP&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ NP V NP&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ NP V Det N&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ NP V Det dog&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ NP V a dog&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ NP sees a dog&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ Det N sees a dog&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ Det cat sees a dog&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⇒ the cat sees a dog&quot;</span><span class="p">)</span>

<span class="n">leftmost_derivation</span><span class="p">()</span>
<span class="n">rightmost_derivation</span><span class="p">()</span>

<span class="c1"># Parse tree generation</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">ChartParser</span><span class="p">(</span><span class="n">grammar</span><span class="p">)</span>
<span class="c1"># sentence = [&#39;the&#39;, &#39;cat&#39;, &#39;sees&#39;, &#39;a&#39;, &#39;dog&#39;]</span>
<span class="n">sentence</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="s1">&#39;chases&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;dog&#39;</span><span class="p">]</span>


<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Parse Tree:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">sentence</span><span class="p">):</span>
    <span class="c1"># display(tree)</span>
   <span class="c1">#  tree.pretty_print()</span>
    <span class="k">if</span> <span class="n">SVG_AVAILABLE</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">draw_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Defined Context-Free Grammar:
Grammar with 9 productions (start state = S)
    S -&gt; NP VP
    NP -&gt; Det N
    VP -&gt; V NP
    Det -&gt; &#39;a&#39;
    Det -&gt; &#39;the&#39;
    N -&gt; &#39;cat&#39;
    N -&gt; &#39;dog&#39;
    V -&gt; &#39;chases&#39;
    V -&gt; &#39;sees&#39;

Leftmost Derivation for &#39;the cat sees a dog&#39;:
S
⇒ NP VP
⇒ Det N VP
⇒ the N VP
⇒ the cat VP
⇒ the cat V NP
⇒ the cat sees NP
⇒ the cat sees Det N
⇒ &#39;the&#39; cat sees &#39;a&#39; N
⇒ &#39;the&#39; cat sees &#39;a&#39; dog

Rightmost Derivation for &#39;the cat sees a dog&#39;:
S
⇒ NP VP
⇒ NP V NP
⇒ NP V Det N
⇒ NP V Det dog
⇒ NP V a dog
⇒ NP sees a dog
⇒ Det N sees a dog
⇒ Det cat sees a dog
⇒ the cat sees a dog

Parse Tree:
</pre></div>
</div>
<img alt="../../../_images/b16c0ca47f07d583abc7a57cc33b08db185a6a5458f62020af23581278763858.svg" src="../../../_images/b16c0ca47f07d583abc7a57cc33b08db185a6a5458f62020af23581278763858.svg" />
</div>
</div>
</section>
</section>
<section id="practice-exercises">
<h2>6. Practice Exercises<a class="headerlink" href="#practice-exercises" title="Link to this heading">#</a></h2>
<section id="exercise-1-definition-of-cfg">
<h3>6.1 Exercise 1: Definition of CFG<a class="headerlink" href="#exercise-1-definition-of-cfg" title="Link to this heading">#</a></h3>
<p>For each of the following languages, identify V, Σ, R. Then give three strings that belong to the language generated by the grammar.</p>
<ul class="simple">
<li><p>Language 1: a language that contains strings with one or more x’s followed by one or more y’s.</p></li>
<li><p>Language 2: a language that contains strings of the form 0ⁿ1ⁿ where n ≥ 1.</p></li>
</ul>
</section>
<section id="exercise-2-derivations">
<h3>6.2 Exercise 2: Derivations<a class="headerlink" href="#exercise-2-derivations" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Using the English sentence grammar G4 from Example 4:</p>
<ul>
<li><p>give a complete derivation for “a girl sees a cat”</p></li>
<li><p>print the parse tree for this derivation</p></li>
<li><p>provide two more valid sentences that can be generated by this grammar.</p></li>
</ul>
</li>
<li><p>For the grammar G = ({S}, {a, b}, {S → aSb | SS | ∧}):</p>
<ul>
<li><p>Give a leftmost derivation for “aabb”</p></li>
<li><p>Give a rightmost derivation for “aabb”</p></li>
<li><p>Are these derivations unique? If not, find another derivation for the same string</p></li>
<li><p>Draw the parse tree(s) for your derivation(s)</p></li>
</ul>
</li>
</ul>
</section>
<section id="exercise-3">
<h3>6.3 Exercise 3:<a class="headerlink" href="#exercise-3" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Implement the CFG class from the notebook with additional methods:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">is_valid_string(self,</span> <span class="pre">input_string)</span></code>: Implement a method to check if a given string can be generated by this grammar</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">generate_strings(self,</span> <span class="pre">max_length)</span></code>: Implement a method to generate all strings up to length max_length</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="further-reading">
<h2>7. Further Reading<a class="headerlink" href="#further-reading" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>“Introduction to the Theory of Computation” by Michael Sipser, Section 2.1 - Context-Free Grammars</p></li>
<li><p>“Introduction to Computer Theory” by Daniel I.A. Cohen, Chapter 12 - Context-Free Grammars</p></li>
<li><p>“Automata Theory, Languages, and Computation” by Hopcroft, Motwani, and Ullman, Chapter 5 - Context-Free Grammars</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./content\Part_2_Context_Free_Languages\Chapter_08"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../../Part_1_Regular_Languages/Chapter07_Nonregular_Languages.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">8. </span>Nonregular Languages</p>
      </div>
    </a>
    <a class="right-next"
       href="../Chapter_09/Chapter09_CFG_Normal_Forms_and_Transformations.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">10. </span>Normal Forms and Transformations in Context-Free Grammars</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#formal-definition-of-context-free-grammar">1. Formal Definition of Context-Free Grammar</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-properties">1.1 Key Properties:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#code-example">1.2 Code Example:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#an-example-of-context-free-grammars">2. An Example of Context-Free Grammars</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-grammar-for-the-language-a-b">2.1 Example: Grammar for the language a*b*</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#derivations">3. Derivations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#leftmost-derivation">3.1 Leftmost Derivation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rightmost-derivation">3.2 Rightmost Derivation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-examples-of-context-free-grammars">4. More Examples of Context-Free Grammars</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-grammar-for-balanced-parentheses">4.1 Example: Grammar for balanced parentheses</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-grammar-for-arithmetic-expressions">4.2 Example: Grammar for arithmetic expressions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-grammar-for-simple-english-sentences">4.3 Example: Grammar for simple English sentences</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-grammar-for-palindromes">4.4 Example: Grammar for palindromes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-grammar-for-anbn-n-0">4.5 Example: Grammar for {aⁿbⁿ | n ≥ 0}</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#parse-trees">5. Parse Trees</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#properties-of-parse-trees">5.1 Properties of Parse Trees:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-parse-tree">5.2 Example Parse Tree</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-python-implementation">5.3 Example Python Implementation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#practice-exercises">6. Practice Exercises</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-1-definition-of-cfg">6.1 Exercise 1: Definition of CFG</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-2-derivations">6.2 Exercise 2: Derivations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-3">6.3 Exercise 3:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#further-reading">7. Further Reading</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Yong Zhang, Dylan Zwick
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    <p class="last-updated">
  Last updated on Aug 21, 2025.
  <br/>
</p>
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>